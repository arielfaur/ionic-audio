<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Ionic-audio by arielfaur</title>

  <link rel="stylesheet" href="../stylesheets/styles.css">
  <link rel="stylesheet" href="../stylesheets/github-light.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
  <div class="wrapper">
    <header>
      <h1>Ionic-audio</h1>
      <h2>for Ionic 2 / Angular 2</h2>
      <p>An audio player plugin for Ionic that works out of the box in the browser and device using an underlying audio provider
        depending on the environment. When running inside the browser the plugin will default to a Web Audio provider, whereas
        on a device it will switch to Cordova Media if cordova-plugin-media is available, otherwise falls back to web audio.</p>

      <p class="view"><a href="https://github.com/arielfaur/ionic-audio/tree/2.0">View the Project on GitHub <small>arielfaur/ionic-audio</small></a></p>

      <ul>
        <li><a href="https://github.com/arielfaur/ionic-audio/archive/2.0.zip">Download <strong>ZIP File</strong></a></li>
        <li><a href="https://github.com/arielfaur/ionic-audio/tree/2.0">View On <strong>GitHub</strong></a></li>
      </ul>
      <br />
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG_global.gif" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online.">
        <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
      </form>

      <p>
        If you've found this project useful please consider donating to support further development. Thank you!
      </p>
    </header>
    <section>
      <ul>
        <li>
          <h2><a href="http://arielfaur.github.io/ionic-audio-example" target="_blank">Demo</a></h2></li>
        <li>
          <h2><a href="docs/modules/ionic-audio.html" target="_blank">API Documentation</a></h2></li>
        <li>
          <h2>Usage</h2>
          <ul>
            <li><h3>Install module from NPM:</h3>
              <p><pre>npm install ionic-audio --save</pre></p>
              <p>Alternatively, add ionic-audio to package.json
<pre><code>
"dependencies": {
    "@angular/common": "2.2.1",
    "@angular/compiler": "2.2.1",
    "@angular/compiler-cli": "2.2.1",
    "@angular/core": "2.2.1",
    "@angular/forms": "2.2.1",
    "@angular/http": "2.2.1",
    "@angular/platform-browser": "2.2.1",
    "@angular/platform-browser-dynamic": "2.2.1",
    "@angular/platform-server": "2.2.1",
    "@ionic/storage": "1.1.7",
    "ionic-angular": "2.0.1",
    "ionic-native": "2.4.1",
    "ionicons": "3.0.0",
    "rxjs": "5.0.0-beta.12",
    "sw-toolbox": "3.4.0",
    "zone.js": "0.6.26",
    <strong>"ionic-audio": "2.3.0"</strong>
}
 </code></pre>
              </p>
            </li>
            <li><h3>Edit <code>tsconfig.json</code> and add <code>ionic-audio</code> to the <code>files</code> array:</h3>
              <p>
  <pre><code>
{
  "compilerOptions": {
    "allowSyntheticDefaultImports": true,
    "declaration": false,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "lib": [
      "dom",
      "es2015"
    ],
    "module": "es2015",
    "moduleResolution": "node",
    "sourceMap": true,
    "target": "es5"
  },
  <strong>
  "files": [
    "node_modules/ionic-audio/dist/index.ts"
  ],
  </strong>
  "include": [
    "src/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ],
  "compileOnSave": false,
  "atom": {
    "rewriteTsconfig": false
  }
}
  </code></pre>
              </p>
            </li>
            <li><h3>Add <code>IonicAudioModule</code> to your app's <code>app.module.ts</code>.<br> 
            <code>IonicAudioModule.forRoot()</code> will automatically inject an audio provider in real-time
            based on the current environment (native audio requires the <code>cordova-plugin-media</code> to be installed).
              Alternatively, you can pass a specific provider instance to the <code>forRoot()</code> method.
              </h3>

              <p>
  <pre><code>
import { IonicAudioModule } from 'ionic-audio/dist';

@NgModule({
  declarations: [
    MyApp,
    AboutPage,
    ContactPage,
    HomePage,
    TabsPage
  ],
  imports: [
    IonicModule.forRoot(MyApp),
    <strong>IonicAudioModule.forRoot()</strong>
  ],
  bootstrap: [IonicApp],
  entryComponents: [
    MyApp,
    AboutPage,
    ContactPage,
    HomePage,
    TabsPage
  ],
  providers: [{provide: ErrorHandler, useClass: IonicErrorHandler}],
  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]
})
export class AppModule {}

  </code></pre>
               </p>
            </li>
            <li><h3>Import and inject AudioProvider where needed (optional):</h3>
              <p>
  <pre><code>
import {Component, Provider} from '@angular/core';
<strong>import { AudioProvider } from 'ionic-audio/dist';</strong>

@Component({
  templateUrl: 'build/pages/page1/page1.html'
})
export class Page1 {
  myTracks: any[];
  allTracks: any[];
   
  constructor(private _audioProvider: AudioProvider) { 
    // plugin won't preload data by default, unless preload property is defined within json object - defaults to 'none'
    this.myTracks = [{
      src: 'https://archive.org/download/JM2013-10-05.flac16/V0/jm2013-10-05-t12-MP3-V0.mp3',
      artist: 'John Mayer',
      title: 'Why Georgia',
      art: 'img/johnmayer.jpg',
      preload: 'metadata' // tell the plugin to preload metadata such as duration for this track, set to 'none' to turn off
    },
    {
      src: 'https://archive.org/download/JM2013-10-05.flac16/V0/jm2013-10-05-t30-MP3-V0.mp3',
      artist: 'John Mayer',
      title: 'Who Says',
      art: 'img/johnmayer.jpg',
      preload: 'metadata' // tell the plugin to preload metadata such as duration for this track,  set to 'none' to turn off
    }];
  }
  
  ngAfterContentInit() {     
    // get all tracks managed by AudioProvider so we can control playback via the API
    this.allTracks = this._audioProvider.tracks; 
  }
  
  playSelectedTrack() {
    // use AudioProvider to control selected track 
    this._audioProvider.play(this.selectedTrack);
  }
  
  pauseSelectedTrack() {
     // use AudioProvider to control selected track 
     this._audioProvider.pause(this.selectedTrack);
  }
         
  onTrackFinished(track: any) {
    console.log('Track finished', track)
  } 
}
  </code></pre>
              </p>
            </li>
            <li><h3>Add components to views:</h3>
              <p>
  <pre><code>
&lt;ion-list&gt;
  <strong>&lt;audio-track #audio *ngFor="let track of myTracks"  [track]="track" (onFinish)="onTrackFinished($event)"&gt;
    &lt;ion-item&gt;  
      &lt;ion-thumbnail item-left&gt;
        &lt;img src="{{audio.art}}"&gt;
        &lt;audio-track-play dark [audioTrack]="audio"&gt;&lt;ion-spinner&gt;&lt;/ion-spinner&gt;&lt;/audio-track-play&gt;  
      &lt;/ion-thumbnail&gt;
      
      &lt;p&gt;&lt;strong&gt;{{audio.title}}&lt;/strong&gt; &#x26AC; &lt;em&gt;{{audio.artist}}&lt;/em&gt;&lt;/p&gt;
      &lt;audio-track-progress-bar dark duration progress [audioTrack]="audio" [ngStyle]="{visibility: audio.completed &gt; 0 ? 'visible' : 'hidden'}"&gt;&lt;/audio-track-progress-bar&gt;
    &lt;/ion-item&gt;    
  &lt;/audio-track&gt;</strong>
&lt;/ion-list&gt;
  </code></pre>
                </p>
            </li>
          </ul>
        </li>
      </ul>

    </section>
    <footer>
      <p>This project is maintained by <a href="https://github.com/arielfaur">arielfaur</a></p>
      <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
    </footer>
  </div>
  <script src="../javascripts/scale.fix.js"></script>

</body>

</html>
